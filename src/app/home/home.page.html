<drawing-canvas></drawing-canvas>
<map-canvas></map-canvas>
<fog-canvas></fog-canvas>
<gm-note-canvas *ngIf="maps.ui"></gm-note-canvas>
<mouse-interaction></mouse-interaction>
<mini-map-canvas *ngIf="maps.ui"></mini-map-canvas>
<ion-fab vertical="bottom" horizontal="end" slot="fixed" *ngIf="!maps.ui">
  <ion-fab-button 
    color="light" 
    (click)="maps.toggleUI()" 
    attr.data-desc="{{ connectionInfo() }}">
    <ion-icon name="logo-buffer"></ion-icon>
  </ion-fab-button>
</ion-fab>
<ion-fab class="ui-open" vertical="top" horizontal="start" slot="fixed" *ngIf="maps.ui">
  <ion-fab-button color="danger" (click)="presentShutdownAlert()">
    <ion-icon name="power"></ion-icon>
  </ion-fab-button>
  <ion-fab-button color="danger" (click)="presentFanAlert()">
    <ion-icon name="snow"></ion-icon>
  </ion-fab-button>
</ion-fab>
<ion-fab class="ui-open" vertical="bottom" horizontal="start" slot="fixed" *ngIf="maps.ui">
  <div class="ion-fab-button-row">
    <color-select [color]="maps.penColor" (select)="penColor($event)"></color-select>
    <ion-fab-button
      class="layer-select"
      attr.color="{{ drawing ? 'primary' : 'light' }}"
      (click)="drawClick()">
      <ion-icon name="brush"></ion-icon>
    </ion-fab-button>
    <ion-fab-button
      class="layer-select"
      attr.color="{{ erasing ? 'primary' : 'light' }}"
      (click)="eraseClick()">
      <fa-icon [icon]="faEraser"></fa-icon>
    </ion-fab-button>
    <ion-fab-button
      class="layer-select"
      attr.color="{{ revealing ? 'primary' : 'light' }}"
      (click)="setRevealing()">
      <ion-icon name="eye"></ion-icon>
    </ion-fab-button>
  </div>
  <ion-item>
    <ion-label>Draw on GM Layer</ion-label>
    <ion-toggle [(ngModel)]="gmlayer" (ionChange)="gmlayerToggle()"></ion-toggle>
  </ion-item>
  <ion-item>
    <ion-textarea 
      placeholder="Notes" 
      rows="6" 
      cols="40" 
      debounce="500"
      [(ngModel)]="maps.current.notes"
      (ionChange)="notesChange($event)"></ion-textarea>
  </ion-item>
</ion-fab>
<ion-fab class="ui-open" vertical="bottom" horizontal="end" slot="fixed" *ngIf="maps.ui">
  <ion-fab-button
    color="light"
    attr.data-desc="{{ currentViewInfo() }}"
    *ngIf="maps.imageLoaded()"
    (click)="presentViewsModal()">
    <ion-icon name="aperture"></ion-icon>
  </ion-fab-button>
  <ion-fab-button
    color="light"
    attr.data-desc="{{ saving ? 'Saving' : 'Save' }}"
    *ngIf="maps.imageLoaded()"
    (click)="saveMetadata()">
    <ion-icon name="save"></ion-icon>
  </ion-fab-button>
  <ion-fab-button 
    color="light" 
    attr.data-desc="{{ filenameInfo() }}"
    (click)="presentFileModal()">
    <ion-icon name="folder-open"></ion-icon>
  </ion-fab-button>
  <ion-fab-button 
    color="primary" 
    (click)="maps.toggleUI()" 
    attr.data-desc="{{ connectionInfo() }}">
    <ion-icon name="logo-buffer"></ion-icon>
  </ion-fab-button>
</ion-fab>